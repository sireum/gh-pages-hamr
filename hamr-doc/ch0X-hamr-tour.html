
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18: http://docutils.sourceforge.net/" />

    <title>HAMR Tour &#8212; Sireum HAMR</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sireum.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/hamr.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          HAMR</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="ch0X-hamr-installation.html">Download</a></li>
                <li><a href="ch00-hamr-overview.html">Doc</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html"> <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#"> <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">HAMR Tour</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#aadl-modeling">AADL Modeling</a><ul>
<li><a class="reference internal" href="#the-osate-eclipse-aadl-environment">The OSATE Eclipse AADL Environment</a></li>
<li><a class="reference internal" href="#component-modeling">Component Modeling</a></li>
<li><a class="reference internal" href="#defining-data-types-for-intercomponent-communication-shared-data-messages">Defining Data Types for Intercomponent Communication (shared data, messages)</a></li>
<li><a class="reference internal" href="#system-modeling">System Modeling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#aadl-analysis">AADL Analysis</a><ul>
<li><a class="reference internal" href="#information-flow-analysis">Information Flow Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slang-workflows">Slang Workflows</a><ul>
<li><a class="reference internal" href="#generating-code-and-code-development-environment-setup-in-the-intellij-based-sireum-integrated-verification-environment-sireum-ive">Generating Code and Code Development Environment Setup in the IntelliJ-based Sireum Integrated Verification Environment (Sireum IVE)</a></li>
<li><a class="reference internal" href="#build-scripts">Build Scripts</a></li>
<li><a class="reference internal" href="#component-development">Component Development</a></li>
<li><a class="reference internal" href="#system-development-and-execution">System Development and Execution</a></li>
<li><a class="reference internal" href="#unit-testing">Unit Testing</a></li>
<li><a class="reference internal" href="#system-testing">System Testing</a></li>
<li><a class="reference internal" href="#system-monitoring-and-execution-visualization">System Monitoring and Execution Visualization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#c-workflows">C Workflows</a><ul>
<li><a class="reference internal" href="#generating-code-and-code-development-environment-setup">Generating Code and Code Development Environment Setup</a></li>
<li><a class="reference internal" href="#id1">Component Development</a></li>
<li><a class="reference internal" href="#scheduling-and-system-configuration">Scheduling and System Configuration</a></li>
<li><a class="reference internal" href="#linux-system-execution">Linux System Execution</a></li>
<li><a class="reference internal" href="#sel4-system-execution-simulation-via-qemu">seL4 System Execution (simulation via Qemu)</a></li>
<li><a class="reference internal" href="#sel4-system-execution-on-development-board">seL4 System Execution (on development board)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="hamr-tour">
<span id="ch0x-hamr-tour"></span><h1>HAMR Tour<a class="headerlink" href="#hamr-tour" title="Permalink to this headline">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#overview" id="id17">Overview</a></p></li>
<li><p><a class="reference internal" href="#aadl-modeling" id="id18">AADL Modeling</a></p>
<ul>
<li><p><a class="reference internal" href="#the-osate-eclipse-aadl-environment" id="id19">The OSATE Eclipse AADL Environment</a></p></li>
<li><p><a class="reference internal" href="#component-modeling" id="id20">Component Modeling</a></p></li>
<li><p><a class="reference internal" href="#defining-data-types-for-intercomponent-communication-shared-data-messages" id="id21">Defining Data Types for Intercomponent Communication (shared data, messages)</a></p></li>
<li><p><a class="reference internal" href="#system-modeling" id="id22">System Modeling</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#aadl-analysis" id="id23">AADL Analysis</a></p>
<ul>
<li><p><a class="reference internal" href="#information-flow-analysis" id="id24">Information Flow Analysis</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#slang-workflows" id="id25">Slang Workflows</a></p>
<ul>
<li><p><a class="reference internal" href="#generating-code-and-code-development-environment-setup-in-the-intellij-based-sireum-integrated-verification-environment-sireum-ive" id="id26">Generating Code and Code Development Environment Setup in the IntelliJ-based Sireum Integrated Verification Environment (Sireum IVE)</a></p></li>
<li><p><a class="reference internal" href="#build-scripts" id="id27">Build Scripts</a></p></li>
<li><p><a class="reference internal" href="#component-development" id="id28">Component Development</a></p></li>
<li><p><a class="reference internal" href="#system-development-and-execution" id="id29">System Development and Execution</a></p></li>
<li><p><a class="reference internal" href="#unit-testing" id="id30">Unit Testing</a></p></li>
<li><p><a class="reference internal" href="#system-testing" id="id31">System Testing</a></p></li>
<li><p><a class="reference internal" href="#system-monitoring-and-execution-visualization" id="id32">System Monitoring and Execution Visualization</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#c-workflows" id="id33">C Workflows</a></p>
<ul>
<li><p><a class="reference internal" href="#generating-code-and-code-development-environment-setup" id="id34">Generating Code and Code Development Environment Setup</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id35">Component Development</a></p></li>
<li><p><a class="reference internal" href="#scheduling-and-system-configuration" id="id36">Scheduling and System Configuration</a></p></li>
<li><p><a class="reference internal" href="#linux-system-execution" id="id37">Linux System Execution</a></p></li>
<li><p><a class="reference internal" href="#sel4-system-execution-simulation-via-qemu" id="id38">seL4 System Execution (simulation via Qemu)</a></p></li>
<li><p><a class="reference internal" href="#sel4-system-execution-on-development-board" id="id39">seL4 System Execution (on development board)</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This chapter provides a high-level summary of developer activities when using HAMR.  This includes:</p>
<ul class="simple">
<li><p>simple illustrations of AADL component and system modeling,</p></li>
<li><p>examples of HAMR-related AADL model analysis,</p></li>
<li><p>generating code with HAMR,</p></li>
<li><p>programming component behaviors with HAMR,</p></li>
<li><p>HAMR-based testing for components (unit testing) and systems (system tests), and</p></li>
<li><p>running HAMR applications.</p></li>
</ul>
<p>HAMR supports multiple programming languages for coding the functionality of components and systems whose infrastructured is auto-generated from HAMR.  Workflows for both Slang and C programming languages are illustrated in this chapter.  The first two items above (AADL modeling and AADL analysis) are independent of whether or not Slang or C is being used as the programming language.  Accordingly, the content of the chapter is organized as follows:</p>
<ul class="simple">
<li><p>AADL modeling</p></li>
<li><p>AADL analysis</p></li>
<li><p>Slang workflows</p></li>
<li><p>C workflows</p></li>
</ul>
<p>Throughout the presentation, forward references are provided to subsequent chapters that provide more details.</p>
</section>
<section id="aadl-modeling">
<h2><a class="toc-backref" href="#id18" role="doc-backlink">AADL Modeling</a><a class="headerlink" href="#aadl-modeling" title="Permalink to this headline">¶</a></h2>
<section id="the-osate-eclipse-aadl-environment">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">The OSATE Eclipse AADL Environment</a><a class="headerlink" href="#the-osate-eclipse-aadl-environment" title="Permalink to this headline">¶</a></h3>
<p>HAMR workflows begin with creating AADL models of components and systems in the <em>OSATE</em> AADL tool.  OSATE is based on the widely-used open-source Eclipse IDE.   HAMR is currently distributed in special “branded” distribution of OSATE called the Formal Methods Integrated Development Environment (FMIDE) developed on the DARPA CASE project.</p>
<ul class="simple">
<li><p>See the installation instructions for installing OSATE/FMIDE and HAMR plug-in.</p></li>
<li><p>See <a class="reference internal" href="ch04-hamr-aadl-fundamental-concepts.html#ch04-hamr-aadl-fundamental-concepts"><span class="std std-ref">AADL Computational Paradigm and HAMR Fundamental Concepts</span></a> for a detailed presentation of AADL modeling and semantics concepts.</p></li>
</ul>
<p>Each OSATE AADL model has both a graphical view and textual view, and OSATE keeps them synchronized.  Although it is possble to create and edit models in the graphical view, HAMR documentation emphasizes creating/editing models in the textual view and then visualizing them in the graphical view.</p>
<figure class="align-center" id="id2">
<span id="osate-graphical-view"></span><img alt="../_images/Tour-OSATE-graphical-view.png" src="../_images/Tour-OSATE-graphical-view.png" />
<figcaption>
<p><span class="caption-text"><strong>OSATE AADL Graphical View</strong></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id3">
<span id="osate-textual-view"></span><img alt="../_images/Tour-OSATE-textual-view.png" src="../_images/Tour-OSATE-textual-view.png" />
<figcaption>
<p><span class="caption-text"><strong>OSATE AADL Textual View</strong></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>OSATE includes different analysis and code generation plug-ins whose functions can be accessed through the menu system or through icons in the tool bar.   Some OSATE/FMIDE capabilities require additional libraries to be installed, they vary in their maturity, and they work on different model features/properties (some of which may not be included in your models)  – so the take away is that you should not expect all other OSATE plug-ins to work on models in the HAMR documentation nor models that you build.   However, all HAMR-related related features described in this documentation should work.</p>
<figure class="align-center" id="id4">
<span id="osate-menus-toolbar"></span><img alt="../_images/Tour-OSATE-menus-toolbar.png" src="../_images/Tour-OSATE-menus-toolbar.png" />
<figcaption>
<p><span class="caption-text"><strong>OSATE Menus and Toolbar</strong></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="component-modeling">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Component Modeling</a><a class="headerlink" href="#component-modeling" title="Permalink to this headline">¶</a></h3>
<p>AADL systems are built from different kinds of components.</p>
<p>With HAMR, the most important component kind is a <code class="docutils literal notranslate"><span class="pre">thread</span></code> component, which corresponds to a <em>real-time task</em> in real-time systems literature.</p>
<p>HAMR generates code skeletons for <code class="docutils literal notranslate"><span class="pre">thread</span></code> components, and a developer implements a system by (a) using a HAMR-supported programming language to program the behavior of thread components and (b) using other AADL modeling elements to group and “wire” components together.</p>
<p>HAMR also generates for communication infrastructure for the wiring between components, and platform infrastructure code corresponding to other kinds of AADL components such as <code class="docutils literal notranslate"><span class="pre">process</span></code> and <code class="docutils literal notranslate"><span class="pre">system</span></code> – which are used to aggregate <code class="docutils literal notranslate"><span class="pre">thread</span></code> components so that they can be associated with various system resources and configurations.</p>
<p>Each AADL software component, e.g., a <code class="docutils literal notranslate"><span class="pre">thread</span></code>, <code class="docutils literal notranslate"><span class="pre">process</span></code>, or <code class="docutils literal notranslate"><span class="pre">system</span></code>, has a specified interface captured as an AADL <code class="docutils literal notranslate"><span class="pre">component</span> <span class="pre">type</span></code>.   AADL emphasizes <em>port-based inter-component communication</em>, and so an AADL component type (interface) is a collection of ports.  There are several categories of AADL ports (<code class="docutils literal notranslate"><span class="pre">event</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code>, and <code class="docutils literal notranslate"><span class="pre">event</span> <span class="pre">data</span></code>), and a port category (together with optional port properties) indicates a particular pattern of communication to be used for communication on that port.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">data</span></code> ports – roughly correspond to shared memory between components that act either as writers or readers</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">event</span></code> ports – roughly corespond to buffered notifications from one component to another</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">event</span> <span class="pre">data</span></code> ports – roughly correspond to buffered messages with payloads sent from one component to another</p></li>
</ul>
<p>AADL properties can be used to configure buffer sizes, timing properties, etc.</p>
<p>HAMR only supports <strong>uni-directional</strong> ports and connections (with port direction indicated by <code class="docutils literal notranslate"><span class="pre">in</span></code> and <code class="docutils literal notranslate"><span class="pre">out</span></code>), so as to enable (a) clean design of security and information flow controls and (b) model- and code-level information flow analysis.</p>
<figure class="align-center" id="id5">
<span id="component-interface-textual"></span><img alt="../_images/Tour-component-interface-textual-w-graphical-inlay.png" src="../_images/Tour-component-interface-textual-w-graphical-inlay.png" />
<figcaption>
<p><span class="caption-text"><strong>AADL Textual Representation of Port-based Thread Component Type (Interface)</strong></span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Later in the workflow, HAMR will generate code-level interfaces for modeled component types.</p>
</section>
<section id="defining-data-types-for-intercomponent-communication-shared-data-messages">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Defining Data Types for Intercomponent Communication (shared data, messages)</a><a class="headerlink" href="#defining-data-types-for-intercomponent-communication-shared-data-messages" title="Permalink to this headline">¶</a></h3>
<p>AADL provides facilities modeling data structures like structs (records), arrays, unions, and enums that flow between components.   AADL libraries also provide common base types including fixed-width, signed and unsigned integers, floats, etc. commonly used in embedded system programming.</p>
<p>Once these types are defined, they are referenced in component interface specification to indicate the types of data flowing across ports.</p>
<figure class="align-center" id="id6">
<span id="data-modeling"></span><img alt="../_images/Tour-data-modeling.png" src="../_images/Tour-data-modeling.png" />
<figcaption>
<p><span class="caption-text"><strong>AADL Data Modeling</strong></span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Later in the workflow, HAMR will generate code-level data types for modeled component types.</p>
</section>
<section id="system-modeling">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">System Modeling</a><a class="headerlink" href="#system-modeling" title="Permalink to this headline">¶</a></h3>
<p><strong>Software Integration and Architecture</strong></p>
<p>Once software threads are designed, they can be integrated, aggregated into AADL <code class="docutils literal notranslate"><span class="pre">thread</span> <span class="pre">group</span></code> components, placed in address spaces (represented by AADL <code class="docutils literal notranslate"><span class="pre">processes</span></code>) — all of these elements can be organized to into subsystems (represented by AADL <code class="docutils literal notranslate"><span class="pre">system</span></code> components) and systems.</p>
<figure class="align-center" id="id7">
<span id="software-system-graphical"></span><img alt="../_images/Tour-software-system-graphical.png" src="../_images/Tour-software-system-graphical.png" />
<figcaption>
<p><span class="caption-text"><strong>AADL Software System Modeling (AADL graphical view)</strong></span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>A key aspect of these integration activities is using AADL <code class="docutils literal notranslate"><span class="pre">connections</span></code> to associate the output ports of one component with the input ports of another.   AADL’s type checking checks that connected ports are type compatible.  Other AADL tools such as AGREE and BLESS can be used to specify contracts (formal specification of data constraints and input output relations) and then check that connected ports/components have compatible contracts.</p>
<figure class="align-center" id="id8">
<span id="software-system-textual"></span><img alt="../_images/Tour-software-system-textual.png" src="../_images/Tour-software-system-textual.png" />
<figcaption>
<p><span class="caption-text"><strong>AADL Software System Modeling (AADL textual view)</strong></span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Once the software architecture is specified, HAMR can generate code for it (illustrated in later in the workflow).   HAMR generates execution contexts, thread skeletons, and APIs for port communication for thread components.
The developer fills in the thread skeletons to complete the component implementation.</p>
<p>HAMR generates code for communication between thread components using the target platform’s communication mechanisms which can include both local communication as well as distributed communication (e.g., supported by middleware).   Realization of inter-component communication is completely automatic.  That is, in contrast to realizing threads, for communication infrastructure <em>all</em> the code is generated – there are no skeletons to fill in.</p>
<p>HAMR code generation may be repeated as models are updated.   HAMR code generation organizes code and follows certain rules to avoid overwriting developer-written code that may be written after previous code generation steps.</p>
<p><strong>Software and Hardware Integration and Allocation of Software Components to Platform and Hardware Resources</strong></p>
</section>
</section>
<section id="aadl-analysis">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">AADL Analysis</a><a class="headerlink" href="#aadl-analysis" title="Permalink to this headline">¶</a></h2>
<p>Using AADL as the modeling framework for HAMR allows developers to utilize a variety of AADL-based model analysis that complement code generation and support broader system engineering activities.
Some of the analyses most commonly used with HAMR are:</p>
<ul class="simple">
<li><p>Model-based hazard analysis using AADL’s Error Modeling Annex and supporting analyses</p></li>
<li><p>Information flow analysis that uses AADL’s flow annotations</p></li>
<li><p>Timing and scheduleability analyses with tools like Adventium’s FASTAR that work off of AADL’s timing annotations and thread properties</p></li>
<li><p>Component behavior specification (e.g., component contracts) and verification using tools such as AGREE and BLESS</p></li>
</ul>
<p>Typical workflows will likely use <em>some</em> AADL analyses before generating code (these may generate additional information, e.g., properties using scheduling analysis, that code generation may utilize), while other analyses may be used after code generation or during repeated code generation steps.</p>
<section id="information-flow-analysis">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Information Flow Analysis</a><a class="headerlink" href="#information-flow-analysis" title="Permalink to this headline">¶</a></h3>
<p>Awas information flow analysis (<a class="reference external" href="http://awas.sireum.org">awas.sireum.org</a>) generates scalable interactive visualizations of AADL information flows and model-based hazard analysis results.  Given an AADL model with information flow annotations, Awas will generate a Javascript/HTML5 browser-based visualization of the models information flow that you can dynamically browse and query with path logic.</p>
<p>Awas information flow analysis is an example of the synergistic interplay between HAMR code generation and AADL analyses – HAMR code generation for communication infrastructure ensures that inter-component information flows as visualized by Awas are actually preserved (no new flow paths are added) in the executable system (note: this does not consider various side channels).</p>
<figure class="align-center" id="id9">
<span id="awas-concept"></span><img alt="../_images/Tour-awas-concept.png" src="../_images/Tour-awas-concept.png" />
<figcaption>
<p><span class="caption-text"><strong>Awas provides scalable visualizations of information flow specified in AADL modeling</strong></span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Awas works by generating an internal information flow graph derived from the declared connections between components in the AADL model (capturing <em>inter</em>-component flows) and AADL component flow annotations (capture <em>intra</em>-component flows – flows between a component’s input and output ports).</p>
<p>In the current state of the tooling, AADL flows for intra-component flows must be written by hand (one can think of this as “modeling” the component implementation’s information flow) and there is no checked correspondence between AADL flow declarations and the source code of AADL component.   Adventium Labs and Kansas State have an Phase II SBIR grant from AFRL to develop (a) automatic inference of AADL flows from Slang implementations of components, as well as support for a complementary workflow in which hand-written AADL flows (serving as information flows specifications) are automatically checked against information flows found in Slang component implementations, ensuring that information flow in the Slang component implementations conforms to the AADL flow specifications.</p>
<p>Note that the code generation in the current tooling guarantees correspondence between the model-level <em>inter</em>-component information flows (represented as component connections) and the code-level information flow reflected in port-based inter-component communication.   This correspondence is not formally proven correct at this time.</p>
<figure class="align-center" id="id10">
<span id="awas-component-flows"></span><img alt="../_images/Tour-awas-component-flows.png" src="../_images/Tour-awas-component-flows.png" />
<figcaption>
<p><span class="caption-text"><strong>Awas dependence graphs are derived (in part) from developer-specified AADL intra-component flow annotations</strong></span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The figure above illustrates AADL intra-component flow specifications and their corresponding representations in the Awas-generated Javascript visualizations.  For example, given an AADL process component <code class="docutils literal notranslate"><span class="pre">MC_SW</span></code>, AADL flow specifications can be used to specify that information flows from the <code class="docutils literal notranslate"><span class="pre">position_status</span></code> input port to the <code class="docutils literal notranslate"><span class="pre">send_status</span></code> output port.   The Awas tabular view of component inputs and outputs at the bottom of the figure provides a summary of the input/output and information flow aspects of a component.  Awas query results are displayed using coloring to mark up particular set of inputs and outputs and flows that participate in a resulting information flow path.</p>
<figure class="align-center" id="id11">
<span id="awas-query"></span><img alt="../_images/Tour-awas-query.png" src="../_images/Tour-awas-query.png" />
<figcaption>
<p><span class="caption-text"><strong>Awas provides interactive information flow querying (e.g., via clickable graphical representations) and visualizations of query results</strong></span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The figure above illustrates how Awas can simultaneously display information flow of multiple subsystems or multiple levels of the system hierarchy.   Awas support multiple forms of queries.  In the example above, in the display for the top-level components in the system architecture, the user clicks on an output port (with a <em>forward information flow</em> option being previously set), and Awas immediately calculates and visualizations the connections, ports, and components in the system that may receive information derived from the outputs of the selected port.   In this example, the query corresponds to the application concern “how  does map information propagation from ground station to UAV and through UAV’s mission computer to produce a waypoint?”.</p>
<p>An extended walk-through of Awas browsing and querying can be found <a class="reference external" href="https://awas.sireum.org/doc/02-user-story/index.html">at this link</a> .</p>
</section>
</section>
<section id="slang-workflows">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">Slang Workflows</a><a class="headerlink" href="#slang-workflows" title="Permalink to this headline">¶</a></h2>
<p>This section provides an overview of HAMR capabilities that are used when developing components implementations using Slang and executing a system on the JVM platform.</p>
<section id="generating-code-and-code-development-environment-setup-in-the-intellij-based-sireum-integrated-verification-environment-sireum-ive">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Generating Code and Code Development Environment Setup in the IntelliJ-based Sireum Integrated Verification Environment (Sireum IVE)</a><a class="headerlink" href="#generating-code-and-code-development-environment-setup-in-the-intellij-based-sireum-integrated-verification-environment-sireum-ive" title="Permalink to this headline">¶</a></h3>
<p>Once the AADL model has been developed to a level of detail sufficient to support code generation, the HAMR code generation capability can be invoked from the OSATE menu system.</p>
<figure class="align-center" id="id12">
<span id="hamr-code-generation-jvm"></span><img alt="../_images/Tour-HAMR-code-generation-JVM.png" src="../_images/Tour-HAMR-code-generation-JVM.png" />
<figcaption>
<p><span class="caption-text"><strong>HAMR Code Generation (Slang / JVM Platform)</strong></span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>HAMR generates code for:</p>
<ul class="simple">
<li><p><strong>communication infrastructure code</strong> that implements communication between AADL threads (e.g., communicating over port connections),</p></li>
<li><p><strong>threading infrastructure code</strong> for containers that host threads and a thread component state (one for each thread instance in the AADL model),</p></li>
<li><p><strong>code skeletons for thread application code</strong>,</p></li>
<li><p><strong>build scripts</strong> (in SBT) for configuring a build of the system and identifying needed library packages,</p></li>
<li><p><strong>unit testing infrastructure</strong> that aids the developer in setting up unit tests for each thread component,</p></li>
<li><p><strong>code that supports simulation and visualization</strong> of Slang systems.</p></li>
</ul>
<p>The developer will subsequently implement the system by filling in the code skeletons for the application code, configuring build scripts, adding unit and system tests, etc.   The generated infrastructure code is complete and should not be modified in the development process.</p>
<p>For programming component logic, the workflow transitions from the Eclipse-based OSATE AADL environment (or the DARPA CASE customized version of OSATE called the FMIDE) to the IntelliJ-based Sireum Integrated Verification Environment (Sireum IVE).  HAMR installation instructions cover the installation of both the FMIDE and Sireum IVE.   The Sireum IVE extends IntelliJ with extensions to the Scala compiler and other facilities used to support Slang.   When using HAMR’s C-based workflows, there is a similar handoff from OSATE/FMIDE to C IDE’s such as JetBrain’s CLion.</p>
<figure class="align-center" id="id13">
<img alt="../_images/Tour-HAMR-OSATE-IVE-handoff.png" src="../_images/Tour-HAMR-OSATE-IVE-handoff.png" />
<figcaption>
<p><span class="caption-text"><strong>HAMR Workflow Transition from OSATE/FMIDE (for AADL) to Sireum IVE (for Slang/Scala/Java)</strong></span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>Within the Sireum IVE, the different types of code generated by HAMR are structured in a hierarchy of files/packages.   The developer’s primary concern will be the AADL component implementation code, AADL data type implementations, and unit and system tests.   A HAMR beginner usually doesn’t need to understand the details of the other types of files.</p>
<figure class="align-center" id="id14">
<img alt="../_images/Tour-HAMR-Slang-code-organization.png" src="../_images/Tour-HAMR-Slang-code-organization.png" />
<figcaption>
<p><span class="caption-text"><strong>HAMR Slang Code Organization in the Sireum IVE (IntelliJ IDE)</strong></span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="build-scripts">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Build Scripts</a><a class="headerlink" href="#build-scripts" title="Permalink to this headline">¶</a></h3>
<p>HAMR generates generates default build scripts in <a class="reference external" href="https://www.scala-sbt.org">SBT</a>.  SBT is similar to <a class="reference external" href="https://maven.apache.org">Maven</a> and <a class="reference external" href="https://ant.apache.org">Ant</a> – popular Java-oriented build tools.  For example, SBT adopts Maven’s project folder structure and supports library dependences in <a class="reference external" href="https://ant.apache.org/ivy/">Apache IVY</a> library repositories.</p>
<p>However, SBT builds are defined in a Scala data structures (as opposed to XML used in Maven and Ant), and this provides greater flexibility, some degree of type checking on build definitions (utilizing underlying type checking facilities of Scala), and a deeper integration with the Scala ecosystem.</p>
<p>The HAMR-generated SBT build script is sufficient for running the initial default behavior of the HAMR-generated system and for launching auto-generated example unit tests.</p>
<p>Developers extend the default build scripts as needed to specify library dependences and to tailor execution and testing workflows for the application.</p>
</section>
<section id="component-development">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Component Development</a><a class="headerlink" href="#component-development" title="Permalink to this headline">¶</a></h3>
<p>HAMR generates code skeletons for AADL thread components.   For each thread, the structure of the thread’s skeletons depends on the dispatch protocol (periodic, sporadic, etc.) selected in the AADL definition of thread.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add figure for component code skeletons.</p>
</aside>
<p>The skeleton for each thread includes a default implementation consisting some simple logging commands and illustrations of how to use port APIs.   The default implementations enable the generated code to be immediately executed.   The default implementations can be replaced incrementally with complete implementations – all the while maintaining a system that can be executed.</p>
<p>When completing a thread implementation, the developer will typically (a) use the auto-generated port APIs to read data from input ports, (b) code the “business logic” that works on thread inputs and other component local variables, and (c) use the auto-generated port APIs to write data to output ports.</p>
<figure class="align-center" id="id15">
<img alt="../_images/Tour-HAMR-Slang-component-implementation.png" src="../_images/Tour-HAMR-Slang-component-implementation.png" />
<figcaption>
<p><span class="caption-text"><strong>HAMR Slang Complement Implementation (AADL Thread Components)</strong></span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The figure aboves shows part of the component implementation (the event handler for the <code class="docutils literal notranslate"><span class="pre">tempChanged</span></code> input event port in <code class="docutils literal notranslate"><span class="pre">TempControl</span></code> component).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Add figure for extensions and GUI components.</p>
</aside>
</section>
<section id="system-development-and-execution">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">System Development and Execution</a><a class="headerlink" href="#system-development-and-execution" title="Permalink to this headline">¶</a></h3>
<p>HAMR build scripts integrate component implementations with auto-generated communication and threading infrastructure to produce an executable system.  System execution can be started using an auto-generated launcher that can be launched within the Sireum IVE.   Logging information is displayed in the console of the Sireum IVE.</p>
<figure class="align-center" id="id16">
<img alt="../_images/Tour-HAMR-Slang-console-execution.png" src="../_images/Tour-HAMR-Slang-console-execution.png" />
<figcaption>
<p><span class="caption-text"><strong>HAMR Slang Launcher and Basic Execution with Logging in Sireum IVE</strong></span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="unit-testing">
<h3><a class="toc-backref" href="#id30" role="doc-backlink">Unit Testing</a><a class="headerlink" href="#unit-testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>IMAGE (need to draw): Explanation of component testing in terms of component inputs and outputs</p></li>
<li><p>Illustration of code providing inputs and checking outputs</p></li>
<li><p>Running via Scala Test</p></li>
</ul>
</section>
<section id="system-testing">
<h3><a class="toc-backref" href="#id31" role="doc-backlink">System Testing</a><a class="headerlink" href="#system-testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>System testing via controlled schedule exploration</p></li>
</ul>
</section>
<section id="system-monitoring-and-execution-visualization">
<h3><a class="toc-backref" href="#id32" role="doc-backlink">System Monitoring and Execution Visualization</a><a class="headerlink" href="#system-monitoring-and-execution-visualization" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Inspector Framework</p></li>
<li><p>MSC Visualization</p></li>
<li><p>Redis logging</p></li>
</ul>
</section>
</section>
<section id="c-workflows">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">C Workflows</a><a class="headerlink" href="#c-workflows" title="Permalink to this headline">¶</a></h2>
<section id="generating-code-and-code-development-environment-setup">
<h3><a class="toc-backref" href="#id34" role="doc-backlink">Generating Code and Code Development Environment Setup</a><a class="headerlink" href="#generating-code-and-code-development-environment-setup" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Screen shot of OSATE menu (explain multiple platform options)</p></li>
<li><p>Quick overview of generated code in CLion IDE</p></li>
<li><p>Setting up builds with CMAKE</p></li>
</ul>
</section>
<section id="id1">
<h3><a class="toc-backref" href="#id35" role="doc-backlink">Component Development</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Coding component logic</p></li>
<li><p>Reading and writing from ports</p></li>
<li><p>Interfacing with Java and component GUIs</p></li>
</ul>
</section>
<section id="scheduling-and-system-configuration">
<h3><a class="toc-backref" href="#id36" role="doc-backlink">Scheduling and System Configuration</a><a class="headerlink" href="#scheduling-and-system-configuration" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Configuring scheduler</p></li>
</ul>
</section>
<section id="linux-system-execution">
<h3><a class="toc-backref" href="#id37" role="doc-backlink">Linux System Execution</a><a class="headerlink" href="#linux-system-execution" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>illustration of Linux Execution</p></li>
</ul>
</section>
<section id="sel4-system-execution-simulation-via-qemu">
<h3><a class="toc-backref" href="#id38" role="doc-backlink">seL4 System Execution (simulation via Qemu)</a><a class="headerlink" href="#sel4-system-execution-simulation-via-qemu" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>illustration of seL4 Execution on Qemu</p></li>
</ul>
</section>
<section id="sel4-system-execution-on-development-board">
<h3><a class="toc-backref" href="#id39" role="doc-backlink">seL4 System Execution (on development board)</a><a class="headerlink" href="#sel4-system-execution-on-development-board" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>illustration of seL4 Execution on board</p></li>
</ul>
</section>
</section>
</section>


    </div>
      
  </div>
</div>

  </body>
</html>