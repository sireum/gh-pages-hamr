
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>HAMR Tour &mdash; Sireum HAMR</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sireum.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/journal/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sireum.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../_static/hamr.ico"/>
    <link rel="top" title="Sireum HAMR" href="../index.html" />
  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          HAMR</a>
        <span class="navbar-text navbar-version pull-left"><b></b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="ch0X-hamr-installation.html">Download</a></li>
                <li><a href="ch00-hamr-overview.html">Doc</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html"> <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#"> <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">HAMR Tour</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#aadl-modeling">AADL Modeling</a><ul>
<li><a class="reference internal" href="#the-osate-eclipse-aadl-environment">The OSATE Eclipse AADL Environment</a></li>
<li><a class="reference internal" href="#component-modeling">Component Modeling</a></li>
<li><a class="reference internal" href="#defining-data-types-for-intercomponent-communication-shared-data-messages">Defining Data Types for Intercomponent Communication (shared data, messages)</a></li>
<li><a class="reference internal" href="#system-modeling">System Modeling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#aadl-analysis">AADL Analysis</a><ul>
<li><a class="reference internal" href="#information-flow-analysis">Information Flow Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slang-workflows">Slang Workflows</a><ul>
<li><a class="reference internal" href="#generating-code-and-code-development-environment-setup">Generating Code and Code Development Environment Setup</a></li>
<li><a class="reference internal" href="#build-scripts">Build Scripts</a></li>
<li><a class="reference internal" href="#component-development">Component Development</a></li>
<li><a class="reference internal" href="#system-development-and-execution">System Development and Execution</a></li>
<li><a class="reference internal" href="#unit-testing">Unit Testing</a></li>
<li><a class="reference internal" href="#system-testing">System Testing</a></li>
<li><a class="reference internal" href="#system-monitoring-and-execution-visualization">System Monitoring and Execution Visualization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#c-workflows">C Workflows</a><ul>
<li><a class="reference internal" href="#id1">Generating Code and Code Development Environment Setup</a></li>
<li><a class="reference internal" href="#id2">Component Development</a></li>
<li><a class="reference internal" href="#scheduling-and-system-configuration">Scheduling and System Configuration</a></li>
<li><a class="reference internal" href="#linux-system-execution">Linux System Execution</a></li>
<li><a class="reference internal" href="#sel4-system-execution-simulation-via-qemu">seL4 System Execution (simulation via Qemu)</a></li>
<li><a class="reference internal" href="#sel4-system-execution-on-development-board">seL4 System Execution (on development board)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="hamr-tour">
<span id="ch0x-hamr-tour"></span><h1>HAMR Tour<a class="headerlink" href="#hamr-tour" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id14">Overview</a></li>
<li><a class="reference internal" href="#aadl-modeling" id="id15">AADL Modeling</a><ul>
<li><a class="reference internal" href="#the-osate-eclipse-aadl-environment" id="id16">The OSATE Eclipse AADL Environment</a></li>
<li><a class="reference internal" href="#component-modeling" id="id17">Component Modeling</a></li>
<li><a class="reference internal" href="#defining-data-types-for-intercomponent-communication-shared-data-messages" id="id18">Defining Data Types for Intercomponent Communication (shared data, messages)</a></li>
<li><a class="reference internal" href="#system-modeling" id="id19">System Modeling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#aadl-analysis" id="id20">AADL Analysis</a><ul>
<li><a class="reference internal" href="#information-flow-analysis" id="id21">Information Flow Analysis</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slang-workflows" id="id22">Slang Workflows</a><ul>
<li><a class="reference internal" href="#generating-code-and-code-development-environment-setup" id="id23">Generating Code and Code Development Environment Setup</a></li>
<li><a class="reference internal" href="#build-scripts" id="id24">Build Scripts</a></li>
<li><a class="reference internal" href="#component-development" id="id25">Component Development</a></li>
<li><a class="reference internal" href="#system-development-and-execution" id="id26">System Development and Execution</a></li>
<li><a class="reference internal" href="#unit-testing" id="id27">Unit Testing</a></li>
<li><a class="reference internal" href="#system-testing" id="id28">System Testing</a></li>
<li><a class="reference internal" href="#system-monitoring-and-execution-visualization" id="id29">System Monitoring and Execution Visualization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#c-workflows" id="id30">C Workflows</a><ul>
<li><a class="reference internal" href="#id1" id="id31">Generating Code and Code Development Environment Setup</a></li>
<li><a class="reference internal" href="#id2" id="id32">Component Development</a></li>
<li><a class="reference internal" href="#scheduling-and-system-configuration" id="id33">Scheduling and System Configuration</a></li>
<li><a class="reference internal" href="#linux-system-execution" id="id34">Linux System Execution</a></li>
<li><a class="reference internal" href="#sel4-system-execution-simulation-via-qemu" id="id35">seL4 System Execution (simulation via Qemu)</a></li>
<li><a class="reference internal" href="#sel4-system-execution-on-development-board" id="id36">seL4 System Execution (on development board)</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id14">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This chapter provides a high-level summary of developer activities when using HAMR.  This includes:</p>
<ul class="simple">
<li>simple illustrations of AADL component and system modeling,</li>
<li>examples of HAMR-related AADL model analysis,</li>
<li>generating code with HAMR,</li>
<li>programming component behaviors with HAMR,</li>
<li>HAMR-based testing for components (unit testing) and systems (system tests), and</li>
<li>running HAMR applications.</li>
</ul>
<p>HAMR supports multiple programming languages for coding the functionality of components and systems whose infrastructured is auto-generated from HAMR.  Workflows for both Slang and C programming languages are illustrated in this chapter.  The first two items above (AADL modeling and AADL analysis) are independent of whether or not Slang or C is being used as the programming language.  Accordingly, the content of the chapter is organized as follows:</p>
<ul class="simple">
<li>AADL modeling</li>
<li>AADL analysis</li>
<li>Slang workflows</li>
<li>C workflows</li>
</ul>
<p>Throughout the presentation, forward references are provided to subsequent chapters that provide more details.</p>
</div>
<div class="section" id="aadl-modeling">
<h2><a class="toc-backref" href="#id15">AADL Modeling</a><a class="headerlink" href="#aadl-modeling" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-osate-eclipse-aadl-environment">
<h3><a class="toc-backref" href="#id16">The OSATE Eclipse AADL Environment</a><a class="headerlink" href="#the-osate-eclipse-aadl-environment" title="Permalink to this headline">¶</a></h3>
<p>HAMR workflows begin with creating AADL models of components and systems in the <em>OSATE</em> AADL tool.  OSATE is based on the widely-used open-source Eclipse IDE.   HAMR is currently distributed in special &#8220;branded&#8221; distribution of OSATE called the Formal Methods Integrated Development Environment (FMIDE) developed on the DARPA CASE project.</p>
<ul class="simple">
<li>See the installation instructions for installing OSATE/FMIDE and HAMR plug-in.</li>
<li>See <a class="reference internal" href="ch04-hamr-aadl-fundamental-concepts.html#ch04-hamr-aadl-fundamental-concepts"><span>AADL Computational Paradigm and HAMR Fundamental Concepts</span></a> for a detailed presentation of AADL modeling and semantics concepts.</li>
</ul>
<p>Each OSATE AADL model has both a graphical view and textual view, and OSATE keeps them synchronized.  Although it is possble to create and edit models in the graphical view, HAMR documentation emphasizes creating/editing models in the textual view and then visualizing them in the graphical view.</p>
<div class="figure align-center" id="id3">
<span id="osate-graphical-view"></span><img alt="../_images/Tour-OSATE-graphical-view.png" src="../_images/Tour-OSATE-graphical-view.png" />
<p class="caption"><span class="caption-text"><strong>OSATE AADL Graphical View</strong></span></p>
</div>
<div class="figure align-center" id="id4">
<span id="osate-textual-view"></span><img alt="../_images/Tour-OSATE-textual-view.png" src="../_images/Tour-OSATE-textual-view.png" />
<p class="caption"><span class="caption-text"><strong>OSATE AADL Textual View</strong></span></p>
</div>
<p>OSATE includes different analysis and code generation plug-ins whose functions can be accessed through the menu system or through icons in the tool bar.   Some OSATE/FMIDE capabilities require additional libraries to be installed, they vary in their maturity, and they work on different model features/properties (some of which may not be included in your models)  &#8211; so the take away is that you should not expect all other OSATE plug-ins to work on models in the HAMR documentation nor models that you build.   However, all HAMR-related related features described in this documentation should work.</p>
<div class="figure align-center" id="id5">
<span id="osate-menus-toolbar"></span><img alt="../_images/Tour-OSATE-menus-toolbar.png" src="../_images/Tour-OSATE-menus-toolbar.png" />
<p class="caption"><span class="caption-text"><strong>OSATE Menus and Toolbar</strong></span></p>
</div>
</div>
<div class="section" id="component-modeling">
<h3><a class="toc-backref" href="#id17">Component Modeling</a><a class="headerlink" href="#component-modeling" title="Permalink to this headline">¶</a></h3>
<p>AADL systems are built from different kinds of components.</p>
<p>With HAMR, the most important component kind is a <code class="docutils literal"><span class="pre">thread</span></code> component, which corresponds to a <em>real-time task</em> in real-time systems literature.</p>
<p>HAMR generates code skeletons for <code class="docutils literal"><span class="pre">thread</span></code> components, and a developer implements a system by (a) using a HAMR-supported programming language to program the behavior of thread components and (b) using other AADL modeling elements to group and &#8220;wire&#8221; components together.</p>
<p>HAMR also generates for communication infrastructure for the wiring between components, and platform infrastructure code corresponding to other kinds of AADL components such as <code class="docutils literal"><span class="pre">process</span></code> and <code class="docutils literal"><span class="pre">system</span></code> &#8211; which are used to aggregate <code class="docutils literal"><span class="pre">thread</span></code> components so that they can be associated with various system resources and configurations.</p>
<p>Each AADL software component, e.g., a <code class="docutils literal"><span class="pre">thread</span></code>, <code class="docutils literal"><span class="pre">process</span></code>, or <code class="docutils literal"><span class="pre">system</span></code>, has a specified interface captured as an AADL <code class="docutils literal"><span class="pre">component</span> <span class="pre">type</span></code>.   AADL emphasizes <em>port-based inter-component communication</em>, and so an AADL component type (interface) is a collection of ports.  There are several categories of AADL ports (<code class="docutils literal"><span class="pre">event</span></code>, <code class="docutils literal"><span class="pre">data</span></code>, and <code class="docutils literal"><span class="pre">event</span> <span class="pre">data</span></code>), and a port category (together with optional port properties) indicates a particular pattern of communication to be used for communication on that port.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">data</span></code> ports &#8211; roughly correspond to shared memory between components that act either as writers or readers</li>
<li><code class="docutils literal"><span class="pre">event</span></code> ports &#8211; roughly corespond to buffered notifications from one component to another</li>
<li><code class="docutils literal"><span class="pre">event</span> <span class="pre">data</span></code> ports &#8211; roughly correspond to buffered messages with payloads sent from one component to another</li>
</ul>
<p>AADL properties can be used to configure buffer sizes, timing properties, etc.</p>
<p>HAMR only supports <strong>uni-directional</strong> ports and connections (with port direction indicated by <code class="docutils literal"><span class="pre">in</span></code> and <code class="docutils literal"><span class="pre">out</span></code>), so as to enable (a) clean design of security and information flow controls and (b) model- and code-level information flow analysis.</p>
<div class="figure align-center" id="id6">
<span id="component-interface-textual"></span><img alt="../_images/Tour-component-interface-textual-w-graphical-inlay.png" src="../_images/Tour-component-interface-textual-w-graphical-inlay.png" />
<p class="caption"><span class="caption-text"><strong>AADL Textual Representation of Port-based Thread Component Type (Interface)</strong></span></p>
</div>
<p>Later in the workflow, HAMR will generate code-level interfaces for modeled component types.</p>
</div>
<div class="section" id="defining-data-types-for-intercomponent-communication-shared-data-messages">
<h3><a class="toc-backref" href="#id18">Defining Data Types for Intercomponent Communication (shared data, messages)</a><a class="headerlink" href="#defining-data-types-for-intercomponent-communication-shared-data-messages" title="Permalink to this headline">¶</a></h3>
<p>AADL provides facilities modeling data structures like structs (records), arrays, unions, and enums that flow between components.   AADL libraries also provide common base types including fixed-width, signed and unsigned integers, floats, etc. commonly used in embedded system programming.</p>
<p>Once these types are defined, they are referenced in component interface specification to indicate the types of data flowing across ports.</p>
<div class="figure align-center" id="id7">
<span id="data-modeling"></span><img alt="../_images/Tour-data-modeling.png" src="../_images/Tour-data-modeling.png" />
<p class="caption"><span class="caption-text"><strong>AADL Data Modeling</strong></span></p>
</div>
<p>Later in the workflow, HAMR will generate code-level data types for modeled component types.</p>
</div>
<div class="section" id="system-modeling">
<h3><a class="toc-backref" href="#id19">System Modeling</a><a class="headerlink" href="#system-modeling" title="Permalink to this headline">¶</a></h3>
<p><strong>Software Integration and Architecture</strong></p>
<p>Once software threads are designed, they can be integrated, aggregated into AADL <code class="docutils literal"><span class="pre">thread</span> <span class="pre">group</span></code> components, placed in address spaces (represented by AADL <code class="docutils literal"><span class="pre">processes</span></code>) &#8212; all of these elements can be organized to into subsystems (represented by AADL <code class="docutils literal"><span class="pre">system</span></code> components) and systems.</p>
<div class="figure align-center" id="id8">
<span id="software-system-graphical"></span><img alt="../_images/Tour-software-system-graphical.png" src="../_images/Tour-software-system-graphical.png" />
<p class="caption"><span class="caption-text"><strong>AADL Software System Modeling (AADL graphical view)</strong></span></p>
</div>
<p>A key aspect of these integration activities is using AADL <code class="docutils literal"><span class="pre">connections</span></code> to associate the output ports of one component with the input ports of another.   AADL&#8217;s type checking checks that connected ports are type compatible.  Other AADL tools such as AGREE and BLESS can be used to specify contracts (formal specification of data constraints and input output relations) and then check that connected ports/components have compatible contracts.</p>
<div class="figure align-center" id="id9">
<span id="software-system-textual"></span><img alt="../_images/Tour-software-system-textual.png" src="../_images/Tour-software-system-textual.png" />
<p class="caption"><span class="caption-text"><strong>AADL Software System Modeling (AADL textual view)</strong></span></p>
</div>
<p>Once the software architecture is specified, HAMR can generate code for it (illustrated in later in the workflow).   HAMR generates execution contexts, thread skeletons, and APIs for port communication for thread components.
The developer fills in the thread skeletons to complete the component implementation.</p>
<p>HAMR generates code for communication between thread components using the target platform&#8217;s communication mechanisms which can include both local communication as well as distributed communication (e.g., supported by middleware).   Realization of inter-component communication is completely automatic.  That is, in contrast to realizing threads, for communication infrastructure <em>all</em> the code is generated &#8211; there are no skeletons to fill in.</p>
<p>HAMR code generation may be repeated as models are updated.   HAMR code generation organizes code and follows certain rules to avoid overwriting developer-written code that may be written after previous code generation steps.</p>
<p><strong>Software and Hardware Integration and Allocation of Software Components to Platform and Hardware Resources</strong></p>
</div>
</div>
<div class="section" id="aadl-analysis">
<h2><a class="toc-backref" href="#id20">AADL Analysis</a><a class="headerlink" href="#aadl-analysis" title="Permalink to this headline">¶</a></h2>
<p>Using AADL as the modeling framework for HAMR allows developers to utilize a variety of AADL-based model analysis that complement code generation and support broader system engineering activities.
Some of the analyses most commonly used with HAMR are:</p>
<ul class="simple">
<li>Model-based hazard analysis using AADL&#8217;s Error Modeling Annex and supporting analyses</li>
<li>Information flow analysis that uses AADL&#8217;s flow annotations</li>
<li>Timing and scheduleability analyses with tools like Adventium&#8217;s FASTAR that work off of AADL&#8217;s timing annotations and thread properties</li>
<li>Component behavior specification (e.g., component contracts) and verification using tools such as AGREE and BLESS</li>
</ul>
<p>Typical workflows will likely use <em>some</em> AADL analyses before generating code (these may generate additional information, e.g., properties using scheduling analysis, that code generation may utilize), while other analyses may be used after code generation or during repeated code generation steps.</p>
<div class="section" id="information-flow-analysis">
<h3><a class="toc-backref" href="#id21">Information Flow Analysis</a><a class="headerlink" href="#information-flow-analysis" title="Permalink to this headline">¶</a></h3>
<p>Awas information flow analysis (<a class="reference external" href="http://awas.sireum.org">awas.sireum.org</a>) generates scalable interactive visualizations of AADL information flows and model-based hazard analysis results.  Given an AADL model with information flow annotations, Awas will generate a Javascript/HTML5 browser-based visualization of the models information flow that you can dynamically browse and query with path logic.</p>
<p>Awas information flow analysis is an example of the synergistic interplay between HAMR code generation and AADL analyses &#8211; HAMR code generation for communication infrastructure ensures that inter-component information flows as visualized by Awas are actually preserved (no new flow paths are added) in the executable system (note: this does not consider various side channels).</p>
<div class="figure align-center" id="id10">
<span id="awas-concept"></span><img alt="../_images/Tour-awas-concept.png" src="../_images/Tour-awas-concept.png" />
<p class="caption"><span class="caption-text"><strong>Awas provides scalable visualizations of information flow specified in AADL modeling</strong></span></p>
</div>
<p>Awas works by generating an internal information flow graph derived from the declared connections between components in the AADL model (capturing <em>inter</em>-component flows) and AADL component flow annotations (capture <em>intra</em>-component flows &#8211; flows between a component&#8217;s input and output ports).</p>
<p>In the current state of the tooling, AADL flows for intra-component flows must be written by hand (one can think of this as &#8220;modeling&#8221; the component implementation&#8217;s information flow) and there is no checked correspondence between AADL flow declarations and the source code of AADL component.   Adventium Labs and Kansas State have an Phase II SBIR grant from AFRL to develop (a) automatic inference of AADL flows from Slang implementations of components, as well as support for a complementary workflow in which hand-written AADL flows (serving as information flows specifications) are automatically checked against information flows found in Slang component implementations, ensuring that information flow in the Slang component implementations conforms to the AADL flow specifications.</p>
<p>Note that the code generation in the current tooling guarantees correspondence between the model-level <em>inter</em>-component information flows (represented as component connections) and the code-level information flow reflected in port-based inter-component communication.   This correspondence is not formally proven correct at this time.</p>
<div class="figure align-center" id="id11">
<span id="awas-component-flows"></span><img alt="../_images/Tour-awas-component-flows.png" src="../_images/Tour-awas-component-flows.png" />
<p class="caption"><span class="caption-text"><strong>Awas dependence graphs are derived (in part) from developer-specified AADL intra-component flow annotations</strong></span></p>
</div>
<p>The figure above illustrates AADL intra-component flow specifications and their corresponding representations in the Awas-generated Javascript visualizations.  For example, given an AADL process component <code class="docutils literal"><span class="pre">MC_SW</span></code>, AADL flow specifications can be used to specify that information flows from the <code class="docutils literal"><span class="pre">position_status</span></code> input port to the <code class="docutils literal"><span class="pre">send_status</span></code> output port.   The Awas tabular view of component inputs and outputs at the bottom of the figure provides a summary of the input/output and information flow aspects of a component.  Awas query results are displayed using coloring to mark up particular set of inputs and outputs and flows that participate in a resulting information flow path.</p>
<div class="figure align-center" id="id12">
<span id="awas-query"></span><img alt="../_images/Tour-awas-query.png" src="../_images/Tour-awas-query.png" />
<p class="caption"><span class="caption-text"><strong>Awas provides interactive information flow querying (e.g., via clickable graphical representations) and visualizations of query results</strong></span></p>
</div>
<p>The figure above illustrates how Awas can simultaneously display information flow of multiple subsystems or multiple levels of the system hierarchy.   Awas support multiple forms of queries.  In the example above, in the display for the top-level components in the system architecture, the user clicks on an output port (with a <em>forward information flow</em> option being previously set), and Awas immediately calculates and visualizations the connections, ports, and components in the system that may receive information derived from the outputs of the selected port.   In this example, the query corresponds to the application concern &#8220;how  does map information propagation from ground station to UAV and through UAV’s mission computer to produce a waypoint?”.</p>
<p>An extended walk-through of Awas browsing and querying can be found <a class="reference external" href="https://awas.sireum.org/doc/02-user-story/index.html">at this link</a> .</p>
</div>
</div>
<div class="section" id="slang-workflows">
<h2><a class="toc-backref" href="#id22">Slang Workflows</a><a class="headerlink" href="#slang-workflows" title="Permalink to this headline">¶</a></h2>
<p>This section provides an overview of HAMR capabilities that are used when developing components implementations using Slang and executing a system on the JVM platform.</p>
<div class="section" id="generating-code-and-code-development-environment-setup">
<h3><a class="toc-backref" href="#id23">Generating Code and Code Development Environment Setup</a><a class="headerlink" href="#generating-code-and-code-development-environment-setup" title="Permalink to this headline">¶</a></h3>
<p>Once the AADL model has been developed to a level of detail sufficient to support code generation, the HAMR code generation capability can be invoked from the OSATE menu system.</p>
<p>Tour-HAMR-code-generation-JVM
.. _HAMR-code-generation-JVM:</p>
<div class="figure align-center" id="id13">
<img alt="../_images/Tour-HAMR-code-generation-JVM.png" src="../_images/Tour-HAMR-code-generation-JVM.png" />
<p class="caption"><span class="caption-text"><strong>HAMR Code Generation (Slang / JVM Platform)</strong></span></p>
</div>
<p>HAMR generates code for:</p>
<ul class="simple">
<li><strong>communication infrastructure code</strong> that implements communication between AADL threads (e.g., communicating over port connections),</li>
<li><strong>threading infrastructure code</strong> for containers that host threads and a thread component state (one for each thread instance in the AADL model),</li>
<li><strong>code skeletons for thread application code</strong>,</li>
<li><strong>build scripts</strong> (in SBT) for configuring a build of the system and identifying needed library packages,</li>
<li><strong>unit testing infrastructure</strong> that aids the developer in setting up unit tests for each thread component,</li>
<li><strong>code that supports simulation and visualization</strong> of Slang systems.</li>
</ul>
<p>The developer will subsequently implement the system by filling in the code skeletons for the application code, configuring build scripts, adding unit and system tests, etc.   The generated infrastructure code is complete and should not be modified in the development process.</p>
</div>
<div class="section" id="build-scripts">
<h3><a class="toc-backref" href="#id24">Build Scripts</a><a class="headerlink" href="#build-scripts" title="Permalink to this headline">¶</a></h3>
<p>HAMR generates generates default build scripts in <a class="reference external" href="https://www.scala-sbt.org">SBT</a>.  SBT is similar to <a class="reference external" href="https://maven.apache.org">Maven</a> and <a class="reference external" href="https://ant.apache.org">Ant</a> &#8211; popular Java-oriented build tools.  For example, SBT adopts Maven&#8217;s project folder structure and supports library dependences in <a class="reference external" href="https://ant.apache.org/ivy/">Apache IVY</a> library repositories.</p>
<p>However, SBT builds are defined in a Scala data structures (as opposed to XML used in Maven and Ant), and this provides greater flexibility, some degree of type checking on build definitions (utilizing underlying type checking facilities of Scala), and a deeper integration with the Scala ecosystem.</p>
<p>The HAMR-generated SBT build script is sufficient for running the initial default behavior of the HAMR-generated system and for launching auto-generated example unit tests.</p>
<p>Developers extend the default build scripts as needed to specify library dependences and to tailor execution and testing workflows for the application.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>ToDo: Add screenshot of SBT file:</strong></p>
</div>
</div>
<div class="section" id="component-development">
<h3><a class="toc-backref" href="#id25">Component Development</a><a class="headerlink" href="#component-development" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Component skeleton code</li>
<li>Coding component logic (e.g., temp controller with port reads and writes)</li>
<li>Reading and writing from ports</li>
<li>Interfacing with Java and component GUIs</li>
</ul>
</div>
<div class="section" id="system-development-and-execution">
<h3><a class="toc-backref" href="#id26">System Development and Execution</a><a class="headerlink" href="#system-development-and-execution" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Component integration and scheduling, with concept of running on platform  (perhaps with HAMR image of platform)</li>
<li>Console logging information</li>
</ul>
</div>
<div class="section" id="unit-testing">
<h3><a class="toc-backref" href="#id27">Unit Testing</a><a class="headerlink" href="#unit-testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>IMAGE (need to draw): Explanation of component testing in terms of component inputs and outputs</li>
<li>Illustration of code providing inputs and checking outputs</li>
<li>Running via Scala Test</li>
</ul>
</div>
<div class="section" id="system-testing">
<h3><a class="toc-backref" href="#id28">System Testing</a><a class="headerlink" href="#system-testing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>System testing via controlled schedule exploration</li>
</ul>
</div>
<div class="section" id="system-monitoring-and-execution-visualization">
<h3><a class="toc-backref" href="#id29">System Monitoring and Execution Visualization</a><a class="headerlink" href="#system-monitoring-and-execution-visualization" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Inspector Framework</li>
<li>MSC Visualization</li>
<li>Redis logging</li>
</ul>
</div>
</div>
<div class="section" id="c-workflows">
<h2><a class="toc-backref" href="#id30">C Workflows</a><a class="headerlink" href="#c-workflows" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id31">Generating Code and Code Development Environment Setup</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Screen shot of OSATE menu (explain multiple platform options)</li>
<li>Quick overview of generated code in CLion IDE</li>
<li>Setting up builds with CMAKE</li>
</ul>
</div>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id32">Component Development</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Coding component logic</li>
<li>Reading and writing from ports</li>
<li>Interfacing with Java and component GUIs</li>
</ul>
</div>
<div class="section" id="scheduling-and-system-configuration">
<h3><a class="toc-backref" href="#id33">Scheduling and System Configuration</a><a class="headerlink" href="#scheduling-and-system-configuration" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Configuring scheduler</li>
</ul>
</div>
<div class="section" id="linux-system-execution">
<h3><a class="toc-backref" href="#id34">Linux System Execution</a><a class="headerlink" href="#linux-system-execution" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>illustration of Linux Execution</li>
</ul>
</div>
<div class="section" id="sel4-system-execution-simulation-via-qemu">
<h3><a class="toc-backref" href="#id35">seL4 System Execution (simulation via Qemu)</a><a class="headerlink" href="#sel4-system-execution-simulation-via-qemu" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>illustration of seL4 Execution on Qemu</li>
</ul>
</div>
<div class="section" id="sel4-system-execution-on-development-board">
<h3><a class="toc-backref" href="#id36">seL4 System Execution (on development board)</a><a class="headerlink" href="#sel4-system-execution-on-development-board" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>illustration of seL4 Execution on board</li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>

  </body>
</html>